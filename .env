# ========================================
# .env - Configuration optimisée TrueNAS + FTP System
# Version: 2.0 Enhanced
# ========================================

# ========================================
# CONFIGURATION TRUENAS
# ========================================
TRUENAS_ADMIN_PASSWORD=SecureAdmin2024!
TRUENAS_ROOT_PASSWORD=SecureRoot2024!
TRUENAS_USER=admin
TRUENAS_API_KEY=your_secure_api_key_here

# TrueNAS Ports
TRUENAS_WEB_PORT=80
TRUENAS_HTTPS_PORT=443
TRUENAS_SSH_PORT=2222
TRUENAS_NFS_PORT=2049
TRUENAS_SMB_PORT=445
TRUENAS_NETBIOS_PORT=139

# ========================================
# CONFIGURATION FTP NITROFLARE
# ========================================
FTP_HOST=ftp71.nitroflare.com
FTP_USER=dZMQBizt
FTP_PASS=b7126e26c0
FTP_PORT=21
FTP_PASSIVE=true
FTP_SSL=false
FTP_TIMEOUT=30
FTP_RETRY_COUNT=3

# ========================================
# CONFIGURATION BASE DE DONNÉES
# ========================================
POSTGRES_PASSWORD=SecurePostgres2024!
POSTGRES_DB=truenas
POSTGRES_USER=truenas

REDIS_PASSWORD=SecureRedis2024!

# ========================================
# CONFIGURATION PERFORMANCE
# ========================================
# FTP Performance
MAX_CONCURRENT_DOWNLOADS=3
DOWNLOAD_SPEED_LIMIT=0
CHUNK_SIZE=8192
PARALLEL_TRANSFERS=2

# System Performance
MAX_MEMORY_USAGE=4G
MAX_CPU_USAGE=2.0

# ========================================
# CONFIGURATION SERVICES
# ========================================
# Synchronization
SYNC_INTERVAL=1800              # 30 minutes
ARCHIVE_DAYS=7                  # Archive after 7 days
CLEANUP_DAYS=30                 # Delete after 30 days
MAX_ARCHIVE_SIZE=100G
COMPRESSION_ENABLED=true
DEDUPLICATION_ENABLED=true

# Monitoring
MONITOR_INTERVAL=60             # 1 minute
METRICS_RETENTION=15d
ALERT_EMAIL=admin@example.com
ALERT_WEBHOOK=

# Backup
BACKUP_SCHEDULE=0 2 * * *       # Daily at 2 AM
BACKUP_RETENTION=7              # Keep 7 backups
BACKUP_COMPRESSION=true

# S3 Backup (optional)
S3_BACKUP_ENABLED=false
S3_BUCKET=
S3_ACCESS_KEY=
S3_SECRET_KEY=
S3_REGION=us-east-1

# ========================================
# CONFIGURATION RÉSEAU
# ========================================
TRUENAS_SUBNET=172.20.0.0/16
TRUENAS_GATEWAY=172.20.0.1

# Dashboard
DASHBOARD_PORT=8080
DASHBOARD_API_PORT=8081
DASHBOARD_REFRESH=5000

# Proxy/Load Balancer
NGINX_HTTP_PORT=8000
NGINX_HTTPS_PORT=8443

# Monitoring Ports
PROMETHEUS_PORT=9090
GRAFANA_PORT=3000
GRAFANA_PASSWORD=SecureGrafana2024!
LOKI_PORT=3100

# ========================================
# CONFIGURATION SYSTÈME
# ========================================
TIMEZONE=Europe/Paris
LOG_LEVEL=INFO
ENVIRONMENT=production

# Docker Settings
COMPOSE_PROJECT_NAME=truenas-ftp-system
COMPOSE_FILE=docker-compose-complete-optimized.yml

# ========================================
# CONFIGURATION SÉCURITÉ
# ========================================
# SSL/TLS
SSL_ENABLED=true
SSL_CERT_PATH=./config/ssl/cert.pem
SSL_KEY_PATH=./config/ssl/private.key

# API Security
API_RATE_LIMIT=100
API_TOKEN_EXPIRY=3600

# Authentication
SESSION_TIMEOUT=1800
PASSWORD_MIN_LENGTH=12
REQUIRE_2FA=false

# ========================================
# CONFIGURATION AVANCÉE
# ========================================
# File Processing
AUTO_EXTRACT_ARCHIVES=true
VIRUS_SCAN_ENABLED=false
THUMBNAIL_GENERATION=true
METADATA_EXTRACTION=true

# Notifications
WEBHOOK_NOTIFICATIONS=false
EMAIL_NOTIFICATIONS=false
SLACK_WEBHOOK=
DISCORD_WEBHOOK=

# Advanced Features
AI_CONTENT_ANALYSIS=false
MACHINE_LEARNING_OPTIMIZATION=false
PREDICTIVE_PREFETCHING=false

# ========================================
# DÉVELOPPEMENT & DEBUG
# ========================================
DEBUG_MODE=false
VERBOSE_LOGGING=false
ENABLE_PROFILING=false
MOCK_FTP_SERVER=false

# Test Configuration
TEST_FTP_HOST=test.ftp.com
TEST_FTP_USER=testuser
TEST_FTP_PASS=testpass

# ========================================
# MIGRATION & MAINTENANCE
# ========================================
AUTO_MIGRATION=true
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE="System under maintenance"

# Data Migration
LEGACY_DATA_PATH=./legacy-data
MIGRATION_BATCH_SIZE=1000

# ========================================
# EXTENSIONS & PLUGINS
# ========================================
ENABLE_PLUGINS=true
PLUGIN_DIRECTORY=./plugins
CUSTOM_SCRIPTS_ENABLED=true

# Third-party integrations
PLEX_INTEGRATION=false
PLEX_SERVER_URL=
PLEX_TOKEN=

JELLYFIN_INTEGRATION=false
JELLYFIN_SERVER_URL=
JELLYFIN_API_KEY=

# ========================================
# CLOUD STORAGE INTEGRATIONS
# ========================================
# Google Drive
GOOGLE_DRIVE_ENABLED=false
GOOGLE_DRIVE_CLIENT_ID=
GOOGLE_DRIVE_CLIENT_SECRET=
GOOGLE_DRIVE_FOLDER_ID=

# Dropbox
DROPBOX_ENABLED=false
DROPBOX_ACCESS_TOKEN=
DROPBOX_APP_KEY=

# OneDrive
ONEDRIVE_ENABLED=false
ONEDRIVE_CLIENT_ID=
ONEDRIVE_CLIENT_SECRET=

# ========================================
# EXEMPLE DE CONFIGURATION PERSONNALISÉE
# ========================================
# Uncomment and modify these variables for your specific setup

# Custom FTP Servers
# FTP_SERVER_2_HOST=ftp.example2.com
# FTP_SERVER_2_USER=user2
# FTP_SERVER_2_PASS=pass2

# Custom Storage Paths
# CUSTOM_DOWNLOAD_PATH=/custom/downloads
# CUSTOM_UPLOAD_PATH=/custom/uploads
# CUSTOM_ARCHIVE_PATH=/custom/archive

# Custom Processing Rules
# AUTO_RENAME_FILES=true
# RENAME_PATTERN={date}_{original_name}
# AUTO_ORGANIZE_BY_TYPE=true
# ORGANIZE_BY_DATE=true

# Quality of Service
# QOS_ENABLED=true
# BANDWIDTH_LIMIT_MB=100
# CONNECTION_LIMIT=50
# RATE_LIMIT_REQUESTS=1000

# ========================================
# NOTES DE CONFIGURATION
# ========================================
# 1. Changez tous les mots de passe par défaut
# 2. Configurez SSL/TLS pour la production
# 3. Ajustez les limites selon votre hardware
# 4. Activez la surveillance en production
# 5. Configurez les sauvegardes automatiques
# 6. Testez les alertes et notifications
# 7. Documentez vos customisations
# 8. Gardez une copie de sauvegarde de ce fichier

# ========================================
# POUR COMMENCER RAPIDEMENT
# ========================================
# 1. Copiez ce fichier vers .env
# 2. Modifiez les valeurs FTP_USER et FTP_PASS
# 3. Changez tous les mots de passe
# 4. Lancez: docker-compose up -d
# 5. Accédez à http://localhost:8080 pour le dashboard
